<!doctype html>

<html lang="en">

<head>
	<meta charset="utf-8">

	<title>The HTML5 Herald</title>
	<meta name="description" content="SEM BOINGO">
	<meta name="author" content="SEM">

	<link rel="stylesheet" href="css/styles.css?v=1.0">
	<style>
		table,
		td {
			table-layout: fixed;
			width: 100px;
			border: 1px solid black;
			border-collapse: collapse;
			text-align: center;
		}

		td {
			height: 100px;
		}

		th {
			font-size: 40px;
		}

		button {
			height: 15px;
		}
	</style>

</head>

<body>
	<script src="js/scripts.js"></script>
	<table id="mytable">
		<thead>
			<tr>
				<th width="150" id="b">B</th>
				<th width="150">I</th>
				<th width="150">N</th>
				<th width="150">G</th>
				<th width="150">O</th>
			</tr>
		</thead>
		<tbody id="maintable"></tbody>
	</table>
</body>

<script>

	function getText() {
		// read text from URL location
		var request = new XMLHttpRequest();
		request.open('GET', 'https://raw.githubusercontent.com/atxarib99/SEM_Bingo/main/squares.txt', true);
		request.send(null);
		request.onreadystatechange = function () {
			if (request.readyState === 4 && request.status === 200) {
				var type = request.getResponseHeader('Content-Type');
				if (type.indexOf("text") !== 1) {
					var items = request.responseText.split("\n");

					console.log(items);

					const buttons = [];

					function loadTableData(items) {
						const table = document.getElementById("mytable");
						var i;
						var j;
						var cellcount = 0;
						for (i = 0; i < 5; i++) {
							var row = document.createElement("tr");
							for (j = 0; j < 5; j++) {
								if (i == 2 && j == 2) {
									var cell = document.createElement("td");
									cell.setAttribute("id", cellcount);
									var textNode = document.createTextNode("FREE");
									var button = document.createElement("button");
									buttons.push(button);
									cell.appendChild(textNode);
									cell.appendChild(button)
									row.appendChild(cell);
								} else {
									index = Math.floor(Math.random() * items.length)
									var item = items[index];
									var cell = document.createElement("td");
									cell.setAttribute("id", cellcount);
									var textNode = document.createTextNode(item);
									var button = document.createElement("button");
									buttons.push(button);
									cell.appendChild(textNode);
									cell.appendChild(button)
									row.appendChild(cell);
									items.splice(index, 1);
								}
								cellcount++;
							}
							table.appendChild(row);

						}

						let yellow = "Yellow";
						let white = document.getElementById("b").style.backgroundColor;
						buttons[0].onclick = function () { (document.getElementById(0).style.backgroundColor == white) ? document.getElementById(0).style.backgroundColor = "Yellow" : document.getElementById(0).style.backgroundColor = white; }
						buttons[1].onclick = function () { (document.getElementById(1).style.backgroundColor == white) ? document.getElementById(1).style.backgroundColor = "Yellow" : document.getElementById(1).style.backgroundColor = white; }
						buttons[2].onclick = function () { (document.getElementById(2).style.backgroundColor == white) ? document.getElementById(2).style.backgroundColor = "Yellow" : document.getElementById(2).style.backgroundColor = white; }
						buttons[3].onclick = function () { (document.getElementById(3).style.backgroundColor == white) ? document.getElementById(3).style.backgroundColor = "Yellow" : document.getElementById(3).style.backgroundColor = white; }
						buttons[4].onclick = function () { (document.getElementById(4).style.backgroundColor == white) ? document.getElementById(4).style.backgroundColor = "Yellow" : document.getElementById(4).style.backgroundColor = white; }

						buttons[5].onclick = function () { (document.getElementById(5).style.backgroundColor == white) ? document.getElementById(5).style.backgroundColor = "Yellow" : document.getElementById(5).style.backgroundColor = white; }
						buttons[6].onclick = function () { (document.getElementById(6).style.backgroundColor == white) ? document.getElementById(6).style.backgroundColor = "Yellow" : document.getElementById(6).style.backgroundColor = white; }
						buttons[7].onclick = function () { (document.getElementById(7).style.backgroundColor == white) ? document.getElementById(7).style.backgroundColor = "Yellow" : document.getElementById(7).style.backgroundColor = white; }
						buttons[8].onclick = function () { (document.getElementById(8).style.backgroundColor == white) ? document.getElementById(8).style.backgroundColor = "Yellow" : document.getElementById(8).style.backgroundColor = white; }
						buttons[9].onclick = function () { (document.getElementById(9).style.backgroundColor == white) ? document.getElementById(9).style.backgroundColor = "Yellow" : document.getElementById(9).style.backgroundColor = white; }

						buttons[10].onclick = function () { (document.getElementById(10).style.backgroundColor == white) ? document.getElementById(10).style.backgroundColor = "Yellow" : document.getElementById(10).style.backgroundColor = white; }
						buttons[11].onclick = function () { (document.getElementById(11).style.backgroundColor == white) ? document.getElementById(11).style.backgroundColor = "Yellow" : document.getElementById(11).style.backgroundColor = white; }
						buttons[12].onclick = function () { (document.getElementById(12).style.backgroundColor == white) ? document.getElementById(12).style.backgroundColor = "Yellow" : document.getElementById(12).style.backgroundColor = white; }
						buttons[13].onclick = function () { (document.getElementById(13).style.backgroundColor == white) ? document.getElementById(13).style.backgroundColor = "Yellow" : document.getElementById(13).style.backgroundColor = white; }
						buttons[14].onclick = function () { (document.getElementById(14).style.backgroundColor == white) ? document.getElementById(14).style.backgroundColor = "Yellow" : document.getElementById(14).style.backgroundColor = white; }

						buttons[15].onclick = function () { (document.getElementById(15).style.backgroundColor == white) ? document.getElementById(15).style.backgroundColor = "Yellow" : document.getElementById(15).style.backgroundColor = white; }
						buttons[16].onclick = function () { (document.getElementById(16).style.backgroundColor == white) ? document.getElementById(16).style.backgroundColor = "Yellow" : document.getElementById(16).style.backgroundColor = white; }
						buttons[17].onclick = function () { (document.getElementById(17).style.backgroundColor == white) ? document.getElementById(17).style.backgroundColor = "Yellow" : document.getElementById(17).style.backgroundColor = white; }
						buttons[18].onclick = function () { (document.getElementById(18).style.backgroundColor == white) ? document.getElementById(18).style.backgroundColor = "Yellow" : document.getElementById(18).style.backgroundColor = white; }
						buttons[19].onclick = function () { (document.getElementById(19).style.backgroundColor == white) ? document.getElementById(19).style.backgroundColor = "Yellow" : document.getElementById(19).style.backgroundColor = white; }

						buttons[20].onclick = function () { (document.getElementById(20).style.backgroundColor == white) ? document.getElementById(20).style.backgroundColor = "Yellow" : document.getElementById(20).style.backgroundColor = white; }
						buttons[21].onclick = function () { (document.getElementById(21).style.backgroundColor == white) ? document.getElementById(21).style.backgroundColor = "Yellow" : document.getElementById(21).style.backgroundColor = white; }
						buttons[22].onclick = function () { (document.getElementById(22).style.backgroundColor == white) ? document.getElementById(22).style.backgroundColor = "Yellow" : document.getElementById(22).style.backgroundColor = white; }
						buttons[23].onclick = function () { (document.getElementById(23).style.backgroundColor == white) ? document.getElementById(23).style.backgroundColor = "Yellow" : document.getElementById(23).style.backgroundColor = white; }
						buttons[24].onclick = function () { (document.getElementById(24).style.backgroundColor == white) ? document.getElementById(24).style.backgroundColor = "Yellow" : document.getElementById(24).style.backgroundColor = white; }

					}
					loadTableData(items);
				}
			}
		}
	}

	getText();
</script>

</html>